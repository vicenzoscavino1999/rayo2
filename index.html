<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rayo ⚡ - ¿Qué está pasando?</title>
    <link rel="stylesheet" href="style.css">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-top">
                <div class="logo">
                    <i data-lucide="zap" class="logo-icon"></i>
                </div>
                <nav class="nav-menu">
                    <a href="#" class="nav-item active" id="nav-home"><i data-lucide="home"></i> <span
                            class="nav-text">Inicio</span></a>
                    <a href="#" class="nav-item" onclick="showExplore(); return false;"><i data-lucide="search"></i>
                        <span class="nav-text">Explorar</span></a>
                    <a href="#" class="nav-item position-relative" onclick="showNotifications(); return false;">
                        <i data-lucide="bell"></i>
                        <span class="nav-text">Notificaciones</span>
                        <span class="badge" id="notification-badge">3</span>
                    </a>
                    <a href="messages.html" class="nav-item" id="nav-messages"><i data-lucide="mail"></i> <span
                            class="nav-text">Mensajes</span></a>
                    <a href="#" class="nav-item" id="nav-profile"><i data-lucide="user"></i> <span
                            class="nav-text">Perfil</span></a>
                    <a href="#" class="nav-item" id="nav-logout"><i data-lucide="log-out"></i> <span
                            class="nav-text">Salir</span></a>
                </nav>
                <button class="btn-publish-large" id="btn-publish-modal">Publicar</button>
                <button class="btn-publish-fab" id="btn-publish-fab"><i data-lucide="feather"></i></button>
            </div>
            <div class="sidebar-bottom">
                <div class="user-profile-mini" id="user-profile-mini">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User Avatar"
                        class="avatar-mini" id="sidebar-avatar">
                    <div class="user-info-mini">
                        <span class="user-name" id="sidebar-name">Usuario</span>
                        <span class="user-handle" id="sidebar-handle">@usuario_rayo</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Feed -->
        <main class="main-feed">
            <header class="feed-header">
                <div class="feed-tabs">
                    <div class="tab active" data-tab="para-ti">Para ti</div>
                    <div class="tab" data-tab="siguiendo">Siguiendo</div>
                </div>
                <div class="header-settings">
                    <i data-lucide="settings"></i>
                </div>
            </header>

            <!-- Composer -->
            <section class="composer">
                <div class="composer-layout">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User Avatar"
                        class="avatar-small" id="composer-avatar">
                    <div class="composer-content">
                        <textarea placeholder="¿Qué está pasando?" id="post-textarea"></textarea>
                        <div class="composer-actions">
                            <div class="action-icons">
                                <i data-lucide="image" id="composer-image-btn" title="Agregar imagen o video"></i>
                                <i data-lucide="smile" id="composer-emoji-btn" title="Agregar emoji"></i>
                                <i data-lucide="map-pin" id="composer-location-btn" title="Agregar ubicación"></i>
                            </div>
                            <button class="btn-primary" id="btn-post" disabled>Publicar</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Posts List -->
            <div id="posts-container">
                <!-- Posts will be loaded dynamically -->
            </div>

            <div class="infinite-scroll-loader" id="loader" style="display: none;">
                <div class="loader-spinner"></div>
            </div>
        </main>

        <!-- Right Sidebar (Extras) -->
        <aside class="extras">
            <div class="search-bar">
                <i data-lucide="search"></i>
                <input type="text" placeholder="Buscar en Rayo" id="search-input">
            </div>

            <div class="extra-card">
                <h3>Qué está pasando</h3>
                <div class="trend-item">
                    <span class="trend-meta">Tendencia en Tecnología</span>
                    <span class="trend-name">#RayoReact</span>
                    <span class="trend-count">12.5K posts</span>
                </div>
                <div class="trend-item">
                    <span class="trend-meta">Deportes · Hace 2 horas</span>
                    <span class="trend-name">Messi</span>
                    <span class="trend-count">85K posts</span>
                </div>
                <a href="#" class="show-more">Mostrar más</a>
            </div>

            <div class="extra-card">
                <h3>A quién seguir</h3>
                <div class="follow-item">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=David" alt="Avatar" class="avatar-small">
                    <div class="follow-info">
                        <span class="follow-name">David Dev</span>
                        <span class="follow-handle">@david_ui</span>
                    </div>
                    <button class="btn-follow">Seguir</button>
                </div>
                <a href="#" class="show-more">Mostrar más</a>
            </div>
        </aside>
    </div>

    <!-- Post Modal -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close" id="modal-close"><i data-lucide="x"></i></button>
            </div>
            <div class="modal-body">
                <div class="composer-layout">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User Avatar"
                        class="avatar-small" id="modal-avatar">
                    <div class="composer-content">
                        <textarea placeholder="¿Qué está pasando?" id="modal-textarea"></textarea>
                        <div class="composer-actions">
                            <div class="action-icons">
                                <i data-lucide="image"></i>
                                <i data-lucide="smile"></i>
                                <i data-lucide="calendar"></i>
                                <i data-lucide="map-pin"></i>
                            </div>
                            <button class="btn-primary" id="modal-post-btn" disabled>Publicar</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Comment Modal -->
    <div class="modal-overlay comment-modal" id="comment-modal-overlay">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <button class="modal-close" id="comment-modal-close"><i data-lucide="x"></i></button>
                <span class="modal-title">Respuestas</span>
            </div>
            <div class="modal-body comment-modal-body">
                <div id="comment-post-container" class="comment-post-container">
                    <!-- Original post will be rendered here -->
                </div>
                <div class="comments-divider"></div>
                <div id="comments-container" class="comments-container">
                    <!-- Comments will be rendered here -->
                </div>
                <div class="comment-composer">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" alt="User Avatar"
                        class="avatar-tiny" id="comment-avatar">
                    <div class="comment-input-wrapper">
                        <textarea placeholder="Escribe tu respuesta..." id="comment-textarea"></textarea>
                        <button class="btn-primary btn-small" id="comment-post-btn" disabled>Responder</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Bottom Navigation -->
    <nav class="mobile-nav" id="mobile-nav">
        <div class="mobile-nav-items">
            <a href="#" class="mobile-nav-item active" id="mobile-nav-home">
                <i data-lucide="home"></i>
            </a>
            <a href="#" class="mobile-nav-item" id="mobile-nav-explore">
                <i data-lucide="search"></i>
            </a>
            <a href="messages.html" class="mobile-nav-item" id="mobile-nav-messages">
                <i data-lucide="mail"></i>
            </a>
            <a href="#" class="mobile-nav-item" id="mobile-nav-notifications">
                <i data-lucide="bell"></i>
                <span class="mobile-nav-badge" id="mobile-notification-badge">3</span>
            </a>
            <a href="#" class="mobile-nav-item" id="mobile-nav-profile">
                <i data-lucide="user"></i>
            </a>
        </div>
    </nav>

    <script type="module" src="app.js"></script>
</body>

</html>